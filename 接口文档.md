# 管理员登录

​ 简要描述：管理员登录

​ 请求 UIL：/admin/login

​ 请求方式：post

​ 请求体：

| 参数名   | 必选 | 类型   | 说明   |
| -------- | ---- | ------ | ------ |
| name     | 是   | String | 用户名 |
| password | 是   | String | 密码   |

返回显示 成功

```
{
	"code": 1,
	"msg": null,
	"data": {
		"id": 1,
		"name": "admin",
		"password": "123"
	},
	"map": {}
}
```

返回显示 失败

```
{
	"code": 0,
	"msg": "登录失败",
	"data": null,
	"map": {}
}
```

返回参数说明

| 参数名 | 类型   | 说明                       |
| ------ | ------ | -------------------------- |
| code   | int    | 1 成功，0 和其它数字为失败 |
| mas    | String | 错误信息                   |
| data   | json   | json 集合                  |

# 管理员退出登录

​ 简要描述：管理员退出登录

​ 请求 UIL：/admin/logout

​ 请求方式：post

​ 返回参数

```
{
	"code": 1,
	"msg": null,
	"data": "退出成功",
	"map": {}
}
```

# 用户登录

​ 简要描述：用户登录

​ 请求 UIL：/user/login

​ 请求方式：post

​ 请求体：

| 参数名   | 必选 | 类型   | 说明   |
| -------- | ---- | ------ | ------ |
| name     | 是   | String | 用户名 |
| password | 是   | String | 密码   |

返回显示 成功

```
{
	"code": 1,
	"msg": null,
	"data": {
		"id": 101,
		"name": "zd",
		"password": "111",
		"phone": "12312312311",
		"email": "123",
		"xiId": 1,
		"jihuo": 1,
		"isDelete": 1
	},
	"map": {}
}
```

返回显示 失败（无账号）

```
{
	"code": 0,
	"msg": "登录失败",
	"data": null,
	"map": {}
}
```

返回显示 状态 0（未激活）

```
{
	"code": 0,
	"msg": "账号未激活，请联系管理员",
	"data": null,
	"map": {}
}
```

返回显示 状态 2（账号禁用）

```
{
	"code": 0,
	"msg": "账号已禁用",
	"data": null,
	"map": {}
}
```

# 用户退出登录

​ 简要描述：管理员退出登录

​ 请求 UIL：/user/logout

​ 请求方式：post

​ 返回参数

```
{
	"code": 1,
	"msg": null,
	"data": "退出成功",
	"map": {}
}
```

# 用户注册

简要描述：用户注册

​ 请求 UIL：/user/adduser

​ 请求方式：post

​ 请求体：

| 参数名   | 必选 | 类型   | 说明                                   |
| -------- | ---- | ------ | -------------------------------------- |
| id       | 是   | int    | 工号                                   |
| name     | 是   | String | 用户名                                 |
| password | 是   | String | 密码                                   |
| phone    | 是   | String | 手机号                                 |
| email    | 是   | String | 邮箱                                   |
| xiId     | 是   | int    | 系 id 号                               |
| jihuo    | 否   | int    | 激活状态：0 未激活，1 已激活，2 被驳回 |
|          |      |        |                                        |

​ 返回参数 用户注册成功

```
{
	"code": 1,
	"msg": null,
	"data": "注册成功，请联系管理员进行账号激活",
	"map": {}
}
```

​ 返回参数 用户注册失败/管理员添加失败

```
{
	"code": 0,
	"msg": "该工号已被使用",
	"data": null,
	"map": {}
}
```

​ 返回参数 管理员添加成功

```
{
	"code": 1,
	"msg": null,
	"data": "添加成功",
	"map": {}
}
```

#

# 管理员添加

简要描述：管理员添加

​ 请求 UIL：/user/adminadduser

​ 请求方式：post

​ 请求体：

| 参数名   | 必选 | 类型   | 说明                                   |
| -------- | ---- | ------ | -------------------------------------- |
| id       | 是   | int    | 工号                                   |
| name     | 是   | String | 用户名                                 |
| password | 是   | String | 密码                                   |
| phone    | 是   | String | 手机号                                 |
| email    | 是   | String | 邮箱                                   |
| xiId     | 是   | int    | 系 id 号                               |
| jihuo    | 否   | int    | 激活状态：0 未激活，1 已激活，2 被驳回 |
|          |      |        |                                        |

​ 返回参数 管理员添加失败

```
{
	"code": 0,
	"msg": "该工号已被使用",
	"data": null,
	"map": {}
}
```

​ 返回参数 管理员添加成功

```
{
	"code": 1,
	"msg": null,
	"data": "添加成功",
	"map": {}
}
```

#

# 根据 id 查询用户

简要描述：根据 id 查询用户

​ 请求 UIL：/user/{id}

​ 请求方式：get

​ 请求体：

| 参数名 | 必选 | 类型   | 说明                                     |
| ------ | ---- | ------ | ---------------------------------------- |
| id     | 否   | String | 工号（接口的值不能为空工号和教师名之一） |
| name   | 否   | String | 教师名                                   |

​ 返回参数

```
{
	"code": 1,
	"msg": null,
	"data": {
		"id": 101,
		"name": "zd",
		"password": "111",
		"phone": "12312312311",
		"email": "123",
		"xiId": 1,
		"jihuo": 1,
		"isDelete": 1
	},
	"map": {}
}
```

#

# 用户分页查询

简要描述：分页查询

​ 请求 UIL：/user/page

​ 请求方式：get

​ 请求体：

| 参数名   | 必选 | 类型   | 说明 pa  |
| -------- | ---- | ------ | -------- |
| page     | 是   | int    | 页码     |
| pageSize | 是   | int    | 条数     |
| name     | 否   | String | 查询信息 |

返回参数

```
{
	"code": 1,
	"msg": null,
	"data": {
		"records": [
			{
				"id": 101,
				"name": "zddd",
				"password": "111",
				"phone": "12312312311",
				"email": "123",
				"xiId": 1,
				"jihuo": 1,
				"isDelete": 1,
				"xi": [],
				"xiName": "软件"
			},
			{
				"id": 108,
				"name": "lis1",
				"password": "123",
				"phone": "13456565555",
				"email": "456@qq.com",
				"xiId": 1,
				"jihuo": 0,
				"isDelete": 1,
				"xi": [],
				"xiName": "软件"
			}
		],
		"total": 10,
		"size": 2,
		"current": 1,
		"orders": [],
		"optimizeCountSql": true,
		"hitCount": false,
		"countId": null,
		"maxLimit": null,
		"searchCount": true,
		"pages": 5
	},
	"map": {}
}
```

# 修改用户数据

简要描述：修改用户数据

​ 请求 UIL：/user/

​ 请求方式：put

​ 请求体：

| 参数名   | 必选 | 类型   | 说明                                 |
| -------- | ---- | ------ | ------------------------------------ |
| id       | 是   | String | 工号(修改用户数据中不能修改 id 工号) |
| name     | 是   | String | 用户名                               |
| password | 是   | String | 密码                                 |
| phone    | 是   | String | 手机号                               |
| email    | 是   | String | 邮箱                                 |
| xiId     | 是   | int    | 系 id 号                             |

​ 返回参数 修改成功

```
{
	"code": 1,
	"msg": null,
	"data": "用户信息修改成功",
	"map": {}
}
```

# 激活、启用、禁用

简要描述：修改用户激活、启用、禁用的操作

​ 请求 UIL：/user/

​ 请求方式：put

​ 请求体：
| 参数名 | 必选 | 类型 | 说明 |
| ------ | ---- | ---- | ---- |
| id | 是 |String |工号 |
|jihuo | 是 | 激活状态 |1 是激活(启用)、2 是禁用|

# 被驳回

简要描述：修改用户数据

​ 请求 UIL：/user/

​ 请求方式：delete

​ 请求体：

| 参数名 | 必选 | 类型 | 说明 |
| ------ | ---- | ---- | ---- |
|        |      |      |      |

返回参数 账号已删除

```
{
	"code": 1,
	"msg": null,
	"data": "申请已驳回",
	"map": {}
}
```
